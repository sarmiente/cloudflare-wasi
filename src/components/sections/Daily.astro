---
import { getLangFromUrl, useTranslations } from "../../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const features = [
  {
    title: t("daily.hosp"),
    description: t("hops.desc"),
    img: "/daily_assistance.svg",
  },
  {
    title: t("daily.event"),
    description: t("event.desc"),
    img: "/private_events.svg",
  },
  {
    title: t("daily.get"),
    description: t("get.desc"),
    img: "/bonavida.svg",
  },
  {
    title: t("daily.ticket"),
    description: t("ticket.desc"),
    img: "/ticketing.svg",
  },
];
---
<section class="bg-gray-100 py-20 lg:py-36">
  <div class="mx-auto max-w-screen-xl px-4 py-20 lg:py-16">
    <!-- Encabezado de secciÃ³n -->
    <div class="text-center mb-6 sm:mb-8">
      <p
        class="inline-block px-3 py-1 mb-4 text-xs font-medium tracking-wider uppercase font-pattern rounded-full bg-main"
      >
        {t("nav.services")}
      </p>
    </div>

    <div class="text-center max-w-3xl mx-auto mb-8 sm:mb-10">
      <h1 class="text-2xl sm:text-3xl lg:text-4xl font-heading mb-3 sm:mb-4 text-gray-900">
        {t("nav.daily")}
      </h1>

      <p class="font-pattern text-sm sm:text-base md:text-lg px-2">
        {t("daily.desc")}
      </p>
    </div>

    <!-- Grid de servicios con responsive mejorado -->
    <div
      class="grid gap-4 sm:gap-5 lg:gap-6 mb-8 py-4 sm:py-6 md:py-8 lg:py-10 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4"
    >
      {
        features.map((item) => (
          <article class="group flex rounded-lg flex-col overflow-hidden border border-neutral-300 bg-neutral-200 text-neutral-600 shadow-sm hover:shadow-md transition-shadow">
            <div class="h-40 sm:h-44 md:h-56 lg:h-64 overflow-hidden">
              <img
                src={item.img}
                class="object-cover w-full h-full transition duration-700 ease-out group-hover:scale-105"
                loading="lazy"
                alt={`Servicio de ${item.title}`}
              />
            </div>
            <div class="flex flex-col gap-2 p-3 sm:p-4">
              <h3
                class="font-heading text-lg sm:text-xl text-black"
                aria-describedby="Service Title"
              >
                {item.title}
              </h3>
              <p class="font-pattern text-xs mb-2 flex-grow" aria-describedby="Service Description">
                {item.description}
              </p>
              <button
                type="button"
                class="uppercase bg-main p-2 text-center tracking-wide text-white font-display text-xs sm:text-sm transition hover:bg-second focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-black active:opacity-100 active:outline-offset-0 rounded-lg cursor-pointer mt-auto"
              >
               <a
                  href="https://api.whatsapp.com/send/?phone=573242016401&text=Hola%2C%20estoy%20interesado%20en%20sus%20servicios"
                  target="_blank"
                  class="block w-full h-full py-1"
                  rel="noopener noreferrer"
                >
                  {t("book.now")}
                </a>
              </button>
            </div>
          </article>
        ))
      }
    </div>
  </div>
</section>